<script src="/static/js/term.js" type="text/javascript"></script>
<script src="/static/js/jquery.min.js" type="text/javascript"></script>
<script src="/static/js/tryit.js" type="text/javascript"></script>

<noscript>
    <div class="panel panel-danger">
        <div class="panel-heading">JavaScript required</div>

        <div class="panel-body">
            <p>The LXD demo service client is entirely JavaScript based.</p>

            <p>It appears the your web browser doesn't support JavaScript or
               that you or an extension you installed is disabling
               JavaScript for this site.</p>

            <p>To use this service, you will need to enable JavaScript support
               and refresh the page.</p>
        </div>
    </div>
</noscript>

<div class="panel panel-success" id="tryit_status_panel" style="display:none">
    <div class="panel-heading">Server status</div>
    <div class="panel-body" id="tryit_online_message" style="display:none">
        You are connected over: <span id="tryit_protocol"></span> (<span id="tryit_address"></span>)<br/>
        The demo server is currently running <span id="tryit_count"></span> user sessions out of <span id="tryit_max"></span>
    </div>

    <div class="panel-body" id="tryit_maintenance_message" style="display:none">
        The demo service is currently down for maintenance and should be
        back online in a few minutes.
    </div>

    <div class="panel-body" id="tryit_unreachable_message" style="display:none">
        Your browser couldn't reach the demo server.<br />
        This is either (most likely) because of a firewall or proxy
        issue on your side or because of a network, power or other catastrophic
        server side failure.
    </div>
</div>

<div class="panel panel-primary" id="tryit_terms_panel" style="display:none">
    <div class="panel-heading">Terms of service</div>
    <div class="panel-body" id="tryit_terms"></div>
</div>

<div class="panel panel-warning" id="tryit_start_panel" style="display:none">
    <div class="panel-heading">Start</div>
    <div class="panel-body">
        <button class="btn btn-default btn-lg" id="tryit_accept" type="button">
            <span aria-hidden="true" class="glyphicon glyphicon-ok"></span>
            I have read and accept the terms of service above
        </button>

        <div id="tryit_progress" style="width:50em;display:none">
            <h1>Starting the container...</h1>
            <div class="progress">
                <div class="progress-bar progress-bar-striped active" style="width: 100%">
                    <span class="sr-only">Creating...</span>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="panel panel-success" id="tryit_info_panel" style="display:none">
    <div class="panel-heading">Container information</div>
    <div class="panel-body">
        <table class="table">
            <tr id="tryit_ssh_row">
                <th>SSH</th>
                <td>ssh <span class="tryit_container_username"></span>@<span class="tryit_container_ip"></span></td>
            </tr>

            <tr id="tryit_lxd_row">
                <th>LXD</th>
                <td>lxc remote add tryit <span class="tryit_container_ip"></span></td>
            </tr>

            <tr id="tryit_password_row">
                <th>Password</th>
                <td><span class="tryit_container_password"></span></td>
            </tr>

            <tr id="tryit_clock">
                <th>Time</th>
                <td><span class="minutes"></span> minutes, <span class="seconds"></span> seconds</td>
            </tr>
        </table>
    </div>
</div>

<div class="panel panel-primary" id="tryit_console_panel" style="display:none">
    <div class="panel-heading">Console</div>
    <div class="panel-body">
        <div id="tryit_console" style="background-color:black;"></div>

        <button class="btn btn-default btn-lg" id="tryit_console_reconnect" type="button" style="display:none">
            <span aria-hidden="true" class="glyphicon glyphicon-repeat"></span>
            Reconnect
        </button>
    </div>
</div>

<div class="panel panel-info" id="tryit_examples_panel" style="display:none">
    <div class="panel-heading">What now?</div>
    <div class="panel-body">
        <p>You are now root inside a LXD container with a nested LXD
           installed inside it.
        </p>

        <p>As a first step, you can launch an Ubuntu container called "first":
           <pre>lxc launch ubuntu first</pre>
        </p>

        <p>Initial startup can take a few seconds due to having to
           generate SSL keys on a rather busy system.<br />
           Further commands should then be near instantenous.
        </p>

        <p>To learn more about what you can do in this environment, you
           may want to read our
           <a href="/lxd/getting-started-cli">Getting started document</a>.
        </p>
    </div>
</div>

<div class="panel panel-danger" id="tryit_error_panel" style="display:none">
    <div class="panel-heading" id="tryit_error_panel_create" style="display:none">Unable to create a new container</div>
    <div class="panel-heading" id="tryit_error_panel_access" style="display:none">Unable to access the container</div>

    <div class="panel-body" id="tryit_error_full" style="display:none">
        The server is currently full, please try again in a few minutes.

        <br /><br />

        <button class="btn btn-default btn-lg tryit_goback" type="button">
            <span aria-hidden="true" class="glyphicon glyphicon-home"></span>
            Start over
        </button>
    </div>

    <div class="panel-body" id="tryit_error_quota" style="display:none">
        You have reached the maximum number of concurrent sessions,
        please wait for some to expire before starting more of them.

        <br /><br />

        <button class="btn btn-default btn-lg tryit_goback" type="button">
            <span aria-hidden="true" class="glyphicon glyphicon-home"></span>
            Start over
        </button>
    </div>

    <div class="panel-body" id="tryit_error_banned" style="display:none">
        You have been banned from this service due to a failure to
        respect the terms of service.
    </div>

    <div class="panel-body" id="tryit_error_unknown" style="display:none">
        An unknown error occured. Please try again in a few minutes.

        <br /><br />

        <button class="btn btn-default btn-lg tryit_goback" type="button">
            <span aria-hidden="true" class="glyphicon glyphicon-home"></span>
            Start over
        </button>
    </div>

    <div class="panel-body" id="tryit_error_missing" style="display:none">
        The container you're trying to connect to doesn't exist anymore.

        <br /><br />

        <button class="btn btn-default btn-lg tryit_goback" type="button">
            <span aria-hidden="true" class="glyphicon glyphicon-home"></span>
            Start over
        </button>
    </div>
</div>
